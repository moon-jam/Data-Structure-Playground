import{j as e,U as w,r as v,s as y,p as N,t as k,u as C,C as U,v as W,w as z}from"./vendor-ui-Uwa8NxfZ.js";import{r as $}from"./vendor-react-B3rwDall.js";const r=[];for(let s=0;s<256;++s)r.push((s+256).toString(16).slice(1));function R(s,l=0){return(r[s[l+0]]+r[s[l+1]]+r[s[l+2]]+r[s[l+3]]+"-"+r[s[l+4]]+r[s[l+5]]+"-"+r[s[l+6]]+r[s[l+7]]+"-"+r[s[l+8]]+r[s[l+9]]+"-"+r[s[l+10]]+r[s[l+11]]+r[s[l+12]]+r[s[l+13]]+r[s[l+14]]+r[s[l+15]]).toLowerCase()}let g;const D=new Uint8Array(16);function M(){if(!g){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");g=crypto.getRandomValues.bind(crypto)}return g(D)}const S=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),f={randomUUID:S};function E(s,l,i){s=s||{};const t=s.random??s.rng?.()??M();if(t.length<16)throw new Error("Random bytes length must be >= 16");return t[6]=t[6]&15|64,t[8]=t[8]&63|128,R(t)}function I(s,l,i){return f.randomUUID&&!s?f.randomUUID():E(s)}const p=(s,l)=>s.split(/(\$\*[\s\S]+?\$|\*\*[\s\S]+?\*\*|\`[\s\S]+?\`|\*[\s\S]+?\*|\[\[[\s\S]+?\]\])/g).map((t,n)=>{if(!t)return null;if(t.startsWith("**")&&t.endsWith("**"))return e.jsx("strong",{className:"font-extrabold text-amber-400 mx-0.5",children:t.slice(2,-2)},n);if(t.startsWith("`")&&t.endsWith("`"))return e.jsx("code",{className:"bg-slate-950 px-1.5 py-0.5 rounded text-blue-300 font-mono text-[11px] border border-slate-700/50 mx-0.5 inline-block leading-none shadow-inner",children:t.slice(1,-1)},n);if(t.startsWith("*")&&t.endsWith("*"))return e.jsx("em",{className:"italic text-slate-300 opacity-80 mx-0.5",children:t.slice(1,-1)},n);if(t.startsWith("[[")&&t.endsWith("]]")){const[a,o]=t.slice(2,-2).split("|");return e.jsx("button",{onClick:()=>l?.(o),className:"text-blue-400 font-black border-b border-blue-400/30 hover:text-blue-300 transition-all cursor-pointer mx-0.5",children:a},n)}return t}),P=({text:s,className:l="",onLinkClick:i})=>{if(!s)return null;const t=s.split(`
`);return e.jsx("div",{className:`${l} space-y-2 text-[13px]`,children:t.map((n,a)=>{const o=n.trim();if(!o)return e.jsx("div",{className:"h-2"},a);if(o.startsWith("|")){if(o.includes("---"))return null;const b=o.split("|").filter((u,d,m)=>d>0&&d<m.length-1),x=a===0||t[a+1]&&t[a+1].includes("---");return e.jsx("div",{className:`flex border-b border-slate-800 py-2 gap-4 transition-colors ${x?"bg-white/5 font-bold border-b-2 border-slate-700":"hover:bg-white/5"}`,children:b.map((u,d)=>e.jsx("div",{className:`flex-1 px-2 text-sm ${x?"text-slate-100":"text-slate-400"} break-words`,children:p(u.trim(),i)},d))},a)}return o.startsWith("- ")||o.startsWith("* ")?e.jsxs("div",{className:"flex gap-3 pl-2 py-0.5",children:[e.jsx("span",{className:"text-blue-500 font-black text-xs",children:"â€¢"}),e.jsx("div",{className:"flex-grow leading-relaxed",children:p(n.trim().substring(2),i)})]},a):e.jsx("div",{className:"leading-relaxed py-0.5",children:p(n,i)},a)})})},_=({label:s,className:l="",children:i,tourId:t,metadata:n})=>e.jsxs("div",{className:`flex flex-col gap-2 bg-slate-50/50 border border-slate-100 p-2 sm:p-3 rounded-2xl ${l} ${t||""}`,children:[(s||n)&&e.jsxs("div",{className:"flex items-center justify-between mb-1 px-1",children:[s&&e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:s}),n&&e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:n})]}),i]}),A=({isPlaying:s,isPaused:l,onTogglePause:i,onGoToStep:t,currentStep:n,totalSteps:a,onUndo:o,onRedo:b,canUndo:x,canRedo:u,playbackSpeed:d,setPlaybackSpeed:m})=>{const[h,j]=$.useState(!1);return e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-grow",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:o,disabled:s||!x,className:"w-8 h-8 rounded-lg border border-slate-200 bg-white flex items-center justify-center hover:bg-slate-50 text-slate-600 transition-all shadow-sm disabled:opacity-30",children:e.jsx(w,{size:16})}),e.jsx("button",{onClick:b,disabled:s||!u,className:"w-8 h-8 rounded-lg border border-slate-200 bg-white flex items-center justify-center hover:bg-slate-50 text-slate-600 transition-all shadow-sm disabled:opacity-30",children:e.jsx(v,{size:16})})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded-xl border border-slate-200 shadow-sm",children:[e.jsx("button",{onClick:()=>t(0),disabled:a===0,className:"hidden sm:block p-1.5 text-slate-400 hover:text-slate-600 transition-colors disabled:opacity-20",children:e.jsx(y,{size:14})}),e.jsx("button",{onClick:()=>t(n-1),disabled:a<=0,className:"p-1.5 text-slate-600 hover:bg-slate-50 rounded-lg transition-all disabled:opacity-20",children:e.jsx(N,{size:18})}),e.jsx("button",{onClick:i,className:"w-8 h-8 bg-slate-900 text-white rounded-lg flex items-center justify-center hover:scale-105 active:scale-95 transition-all shadow-md",children:s&&!l?e.jsx(k,{size:16,fill:"currentColor"}):e.jsx(C,{size:16,fill:"currentColor"})}),e.jsx("button",{onClick:()=>t(n+1),disabled:a<=0,className:"p-1.5 text-slate-600 hover:bg-slate-50 rounded-lg transition-all disabled:opacity-20",children:e.jsx(U,{size:18})}),e.jsx("button",{onClick:()=>t(a-1),disabled:a===0,className:"hidden sm:block p-1.5 text-slate-400 hover:text-slate-600 transition-colors disabled:opacity-20",children:e.jsx(W,{size:14})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>j(!h),className:`w-8 h-8 rounded-lg border flex items-center justify-center transition-all shadow-sm ${h?"bg-blue-600 text-white border-blue-600":"bg-white border-slate-200 text-slate-400"}`,children:e.jsx(z,{size:16})}),h&&e.jsx("div",{className:"absolute bottom-full right-0 mb-2 bg-white rounded-xl shadow-2xl border border-slate-200 p-1 flex flex-col gap-0.5 z-[150] animate-in slide-in-from-bottom-2 min-w-[60px]",children:[.5,1,1.5,2,3].map(c=>e.jsxs("button",{onClick:()=>{m(c),j(!1)},className:`px-3 py-1.5 rounded-lg text-[10px] font-black transition-colors ${d===c?"bg-blue-600 text-white":"hover:bg-slate-50 text-slate-500"}`,children:[c,"x"]},c))})]})]}),e.jsx("div",{className:"flex items-center gap-3 mt-1",children:e.jsx("input",{type:"range",min:"0",max:Math.max(0,a-1),value:Math.max(0,n),onChange:c=>t(parseInt(c.target.value)),className:"flex-grow h-1 bg-slate-200 rounded-full accent-blue-600 cursor-pointer"})})]})};export{_ as C,A as P,P as S,I as v};
