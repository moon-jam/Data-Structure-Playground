#!/usr/bin/env sh
# No complex sh loading needed for Husky 9+ 


echo "\nğŸš€ [Pre-commit] Starting integrity check..."

# Use subshell to avoid changing directory permanently
(
  cd app && npm run build
)

if [ $? -ne 0 ]; then
    echo "\nâŒ [Pre-commit] Error: Build failed!"
    echo "ğŸ’¡ Please fix the TypeScript errors before committing."
    exit 1
fi

echo "âœ… [Pre-commit] Build passed! Proceeding with commit.\n"